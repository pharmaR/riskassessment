<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="riskassessment">
<title>Using SQLite Command Line • riskassessment</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Using SQLite Command Line">
<meta property="og:description" content="riskassessment">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">riskassessment</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/riskassessment.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>User Guides</h6>
    <a class="dropdown-item" href="../articles/Credential_Manager.html">Credential Manager</a>
    <a class="dropdown-item" href="../articles/User_Roles_and_Privileges.html">User Roles and Privileges</a>
    <a class="dropdown-item" href="../articles/Deployment.html">Deployment</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pharmaR/riskassessment/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Using SQLite Command Line</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/pharmaR/riskassessment/blob/HEAD/vignettes/dev_Using_SQLite_Command_Line.Rmd" class="external-link"><code>vignettes/dev_Using_SQLite_Command_Line.Rmd</code></a></small>
      <div class="d-none name"><code>dev_Using_SQLite_Command_Line.Rmd</code></div>
    </div>

    
    
<style type="text/css">
  body{
  font-size: 14pt;
}
</style>
<div class="section level3">
<h3 id="about-sqlite">About SQLite<a class="anchor" aria-label="anchor" href="#about-sqlite"></a>
</h3>
<p>SQLite is a software library that provides a relational database
management system. The lite in SQLite means lightweight in terms of
setup, database administration, and required resources.</p>
<p>SQLite has the following noticeable features: self-contained,
serverless, zero-configuration, transactional.</p>
<p>For more information, see <a href="https://www.sqlitetutorial.net/what-is-sqlite/" class="external-link">What is SQLite</a>
</p>
</div>
<div class="section level3">
<h3 id="why-sqlite">Why SQLite?<a class="anchor" aria-label="anchor" href="#why-sqlite"></a>
</h3>
<p>For one obvious reason – all the <code>riskassessment</code> App data
is stored in a SQLite database. Also, one of SQLite’s advantages is that
it can run nearly anywhere. This vignette will provide you with the
means of accessing the database outside of the
<code>riskassessment</code> App. </p>
</div>
<div class="section level3">
<h3 id="download-sqlite-tools">Download SQLite tools<a class="anchor" aria-label="anchor" href="#download-sqlite-tools"></a>
</h3>
<p>Open the download page <a href="https://www.sqlite.org/download.html" class="external-link">SQLite Download Page</a></p>
<p>To work with SQLite on Windows, you download the command-line
shell program as shown in the screenshot below.
<!-- ![](images/SQLite_Precompiled_Binaries_Win.png) --></p>
<p> If you are using a Mac, you need to download this one:
<!-- ![](images/SQLite_Precompiled_Binaries_Mac.png) -->  In
either case, the downloaded file is in ZIP format and its size is quite
small. </p>
</div>
<div class="section level3">
<h3 id="run-sqlite-tools">Run SQLite tools<a class="anchor" aria-label="anchor" href="#run-sqlite-tools"></a>
</h3>
<p>Installing SQLite is simple and straightforward.</p>
<p>Create a new folder e.g., <code>C:\sqlite</code>.</p>
<p>Extract the content of the .zip file that you downloaded in the
previous section to the <code>C:\sqlite</code> folder. You should see
three programs as shown below:</p>
<p><!-- ![](images/SQLite_files.png) --> </p>
</div>
<div class="section level3">
<h3 id="open-the-command-line-window-">Open the command line window.<a class="anchor" aria-label="anchor" href="#open-the-command-line-window-"></a>
</h3>
<p>On Windows, type “cmd” in the search bar.</p>
<p><!-- ![](images/Command_Prompt.png) --> </p>
</div>
<div class="section level3">
<h3 id="navigate-to-the-csqlite-folder-">Navigate to the <code>C:\sqlite</code> folder.<a class="anchor" aria-label="anchor" href="#navigate-to-the-csqlite-folder-"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>C<span class="sc">:</span>\cd c<span class="sc">:</span>\sqlite</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>C<span class="sc">:</span>\sqlite<span class="sc">&gt;</span></span></code></pre></div>
<p>Next, type <code>sqlite3</code> and press enter, you should see the
following output:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>C<span class="sc">:</span>\sqlite<span class="sc">&gt;</span>sqlite3</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>SQLite version <span class="dv">3</span>.<span class="fl">33.0</span> <span class="dv">2020-08-14</span> <span class="dv">13</span><span class="sc">:</span><span class="dv">23</span><span class="sc">:</span><span class="dv">32</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>Enter <span class="st">".help"</span> <span class="cf">for</span> usage hints.</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>Connected to a transient <span class="cf">in</span><span class="sc">-</span>memory database.</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>Use <span class="st">".open FILENAME"</span> to reopen on a persistent database.</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>sqlite<span class="sc">&gt;</span></span></code></pre></div>
<p>Navigate to the directory containing the <code>riskassessment</code>
database. Note: the app’s default behavior is to call this database
“database.sqlite”, unless you’ve specified otherwise using the
<code>assessment_db_name</code> arg in <code><a href="../reference/run_app.html">run_app()</a></code>. Next, use
the <code>.open FILENAME</code> command to open it. For example:</p>
<p><code>.open database.sqlite;</code></p>
<p>To show the tables, type <code>.tables</code></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>sqlite<span class="sc">&gt;</span> .tables</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>comments                 metric                   package_metrics</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>community_usage_metrics  package</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>sqlite<span class="sc">&gt;</span></span></code></pre></div>
<p>To show the structure of a table, type <code>.schema TABLE</code></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>sqlite<span class="sc">&gt;</span> .schema package_metrics</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>CREATE TABLE <span class="fu">package_metrics</span> (   id           INTEGER PRIMARY KEY AUTOINCREMENT,   package_id   INT,    metric_id    INT,   value        CHAR,   <span class="sc">/</span><span class="er">*</span> value <span class="sc">==</span> <span class="st">'pkg_metric_error'</span> indicates an error. <span class="sc">*</span><span class="er">/</span>   <span class="er">/*</span> value <span class="sc">==</span> <span class="cn">NA</span> indicates metric is not applicable <span class="cf">for</span> this package. <span class="sc">*</span><span class="er">/</span>   weight       REAL,   FOREIGN <span class="fu">KEY</span> (package_id) REFERENCES <span class="fu">package</span>(id),   FOREIGN <span class="fu">KEY</span> (metric_id) REFERENCES <span class="fu">metric</span>(id));</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>sqlite<span class="sc">&gt;</span></span></code></pre></div>
<p>You can also type <code>.help</code> from the sqlite&gt; prompt to
see all available commands.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>sqlite<span class="sc">&gt;</span> .help</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>.archive ...             Manage SQL archives</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>.auth ON<span class="sc">|</span>OFF             Show authorizer callbacks</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>.backup ?DB? FILE        Backup <span class="fu">DB</span> (default <span class="st">"main"</span>) to FILE</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>.bail on<span class="sc">|</span>off             Stop after hitting an error.  Default OFF</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>.binary on<span class="sc">|</span>off           Turn binary output on or off.  Default OFF</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>.cd DIRECTORY            Change the working directory to DIRECTORY</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>.changes on<span class="sc">|</span>off          Show number of rows changed by SQL</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>.check GLOB              Fail <span class="cf">if</span> output since .testcase does not match</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>.clone NEWDB             Clone data into NEWDB from the existing database</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>.databases               List names and files of attached databases</span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>.dbconfig ?op? ?val?     List or change <span class="fu">sqlite3_db_config</span>() options</span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>.dbinfo ?DB?             Show status information about the database</span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>.dump ?TABLE?            Render database content as SQL</span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a>.echo on<span class="sc">|</span>off             Turn command echo on or off</span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a>.eqp on<span class="sc">|</span>off<span class="sc">|</span>full<span class="sc">|</span>...     Enable or disable automatic EXPLAIN QUERY PLAN</span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>.excel                   Display the output of <span class="cf">next</span> command <span class="cf">in</span> spreadsheet</span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>...</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a>additional output not displayed</span></code></pre></div>
<p>To exit, type <code>.quit</code>or <code>.exit</code> </p>
</div>
<div class="section level3">
<h3 id="command-line-shell">Command Line Shell<a class="anchor" aria-label="anchor" href="#command-line-shell"></a>
</h3>
<p>You can also <em>temporarily</em> add <code>C:\sqlite</code> to the
Windows path.</p>
<p><code>set PATH=%PATH%;C:\sqlite</code></p>
<p>Verify by typing</p>
<p><code>echo %PATH%</code></p>
<p>Then when you are in the <code>riskassessment</code> directory, you
can just enter the following on the command line:</p>
<p><code>sqlite3 database.sqlite</code> and then you will see</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>SQLite version <span class="dv">3</span>.<span class="fl">33.0</span> <span class="dv">2020-08-14</span> <span class="dv">13</span><span class="sc">:</span><span class="dv">23</span><span class="sc">:</span><span class="dv">32</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>Enter <span class="st">".help"</span> <span class="cf">for</span> usage hints.</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>sqlite<span class="sc">&gt;</span> </span></code></pre></div>
<p>You can also use the <code>system2</code> command to execute SQLite
commands on the RStudio command line.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="sc">&gt;</span> <span class="fu">system2</span>(<span class="st">"C:/sqlite/sqlite3"</span>, <span class="at">args =</span><span class="fu">c</span>(<span class="st">"database.sqlite"</span>, <span class="st">".tables"</span>, <span class="st">".quit"</span>))</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>comments                 metric                   package_metrics        </span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>community_usage_metrics  package     </span></code></pre></div>
<p>And you can build queries or commands for SQLite and execute
them.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="sc">&gt;</span> table_name <span class="ot">&lt;-</span> <span class="st">"package"</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a><span class="sc">&gt;</span> query <span class="ot">&lt;-</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"select * from { table_name } limit 1;"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="sc">&gt;</span> frst_row <span class="ot">&lt;-</span> <span class="fu">system2</span>(<span class="st">"C:/sqlite/sqlite3"</span>, <span class="at">args =</span><span class="st">"database.sqlite"</span>, <span class="at">input =</span> query, <span class="at">stdout =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="sc">&gt;</span> </span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="er">&gt;</span> frst_row</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>[<span class="dv">1</span>] <span class="st">"1|glue|1.6.2|glue: Interpreted String Literals|An implementation of interpreted string literals, inspired by   Pythons Literal String Interpolation   &lt;https://www.python.org/dev/peps/pep-0498/&gt; and Docstrings   &lt;https://www.python.org/dev/peps/pep-0257/&gt; and Julias Triple-Quoted   String Literals   &lt;https://docs.julialang.org/en/v1.3/manual/strings/#Triple-Quoted-String-Literals-1&gt;.|Jennifer Bryan  &lt;jenny at rstudio.com&gt;|Jim Hester  [aut], Jennifer Bryan    [aut, cre], RStudio [cph, fnd]|MIT + file LICENSE|2022-02-24|0.11|||2022-02-24"</span></span></code></pre></div>
<p>For more info, see <a href="https://sqlite.org/cli.html" class="external-link">Command Line
Shell for SQLite</a></p>
<p></p>
</div>
<div class="section level3">
<h3 id="sqlitestudio">SQLiteStudio<a class="anchor" aria-label="anchor" href="#sqlitestudio"></a>
</h3>
<p>The SQLiteStudio tool is a free GUI tool for managing SQLite
databases. It is free, portable, intuitive, and cross-platform. SQLite
tool also provides some of the most important features to work with
SQLite databases such as importing, exporting data in various formats
including CSV, XML, and JSON.</p>
<p>Visit <a href="https://sqlitestudio.pl/" class="external-link">SQLite Studio</a></p>
<p>You can download the SQLiteStudio installer or its portable version
by visiting the download page. Then, you can extract (or install) the
download file to a folder e.g., C: and launch it.</p>
<p>The following picture illustrates how to launch the SQLiteStudio:</p>
<p><!-- ![](images/SQLiteStudio.png) --></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Aaron Clark, Jeff Thompson, Robert Krajcik, Lars Andersen, Andrew Borgman, Marly Gotti, Maya Gans, Aravind Reddy Kallem, Fission Labs India Pvt Ltd, PSI special interest group Application and Implementation of Methodologies in Statistics, R Validation Hub.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
