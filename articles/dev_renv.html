<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="riskassessment">
<title>Developer onboarding - using renv • riskassessment</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Developer onboarding - using renv">
<meta property="og:description" content="riskassessment">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">riskassessment</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/riskassessment.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>User Guides</h6>
    <a class="dropdown-item" href="../articles/Credential_Manager.html">Credential Manager</a>
    <a class="dropdown-item" href="../articles/User_Roles_and_Privileges.html">User Roles and Privileges</a>
    <a class="dropdown-item" href="../articles/Deployment.html">Deployment</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pharmaR/riskassessment/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Developer onboarding - using renv</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/pharmaR/riskassessment/blob/HEAD/vignettes/dev_renv.Rmd" class="external-link"><code>vignettes/dev_renv.Rmd</code></a></small>
      <div class="d-none name"><code>dev_renv.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code>renv</code> package provides project-local R dependency
management to your projects. It helps manage library paths (and other
project-specific state) to help isolate your project’s R dependencies.
The <code>renv</code> package helps you create
<strong>r</strong>eproducible <strong>env</strong>ironments for your R
projects. It will make your R packages more <strong>isolated</strong>,
<strong>portable</strong> and <strong>reproducible</strong>.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="actions-performed-only-once-in-the-repo">Actions performed only once in the repo<a class="anchor" aria-label="anchor" href="#actions-performed-only-once-in-the-repo"></a>
</h2>
<p>First someone initialized a new project-local environment with a
private R library - which can be done via <code><a href="https://rstudio.github.io/renv/reference/init.html" class="external-link">renv::init()</a></code>.</p>
<p>This action will result in the creation of a lockfile - named
<code>renv.lock</code> in the root directory. The lock file contains a
ton of environment metadata, including the developers installed packages
&amp; versions, plus the repository source where those packages were
installed from (i.e. CRAN, GitHub, RSPM, etc). It’s important to note
that this dev team will use a repo source that does not point at
production CRAN, because we want a stable (aka unchanging) source for
pkgs. In addition, the <code>lockfile</code> should (and will) only be
upgraded if there is a need for an important new feature that relies on
the latest version of a new or existing pkg in the lock file.</p>
<p>Each developer working within the repo for the first time will need
sync up with with the packages stored in the <code>renv.lock</code>
file. The first time you do this, you’ll need to run
<code><a href="https://rstudio.github.io/renv/reference/activate.html" class="external-link">renv::activate()</a></code> which will ask for you to confirm you
decision. Note that these new pkg installations will only impact this R
project, and not your R system library stored elsewhere.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="if-new-packages-installations-are-needed">If new packages installations are needed<a class="anchor" aria-label="anchor" href="#if-new-packages-installations-are-needed"></a>
</h2>
<p>As new dependencies are needed, you can save the current state of the
project library with <code><a href="https://rstudio.github.io/renv/reference/snapshot.html" class="external-link">renv::snapshot()</a></code>. However, any pkg
changes must be expressly documented and justified in the PR’s comments
section to be considered ready for review. Without them, the reviewer
should reject &amp; request changes to the PR immediately. This dev
team’s philosophy is that the <code>renv.lock</code> file should (and
will) only be upgraded if there is a need for an important new
feature/functionality that relies on a different version of a new or
existing pkg. Even when updating a pkg, R will sometimes ask if you want
to upgrade other packages, as seen below. You should always say “3:
None” where possible.</p>
<p><br></p>
<p><img src="images/renv-install-none.png"></p>
<p><br></p>
<p>If you just want to test a new package out before committing it to
the lockfile, you can do that too. Go ahead and install the package of
interest and if you want to revert back to the pkg line up stored in the
lock file at anytime, just run <code><a href="https://rstudio.github.io/renv/reference/restore.html" class="external-link">renv::restore()</a></code>. Similarly,
anytime your fellow developer(s) submit a PR with a change in the lock
file, you’ll need to run <code><a href="https://rstudio.github.io/renv/reference/restore.html" class="external-link">renv::restore()</a></code> to sync up your
development with the rest of the team.</p>
<p>If at any time your out of sync the <code>renv.lock</code> file, you
can run <code><a href="https://rstudio.github.io/renv/reference/status.html" class="external-link">renv::status()</a></code> to see which packages are ahead or
behind the lock file.</p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="how-to-ignore-files-pkgs-in-the-lock-file">How to ignore files &amp; pkgs in the lock file<a class="anchor" aria-label="anchor" href="#how-to-ignore-files-pkgs-in-the-lock-file"></a>
</h2>
<p>By default <code>renv</code> ignores all files stated in the
<code>.gitignore</code> file. If you want to extend that further, you
can use a <code>.renvignore</code> file - which is specified similar to
the <code>.gitignore</code> file.</p>
<p>In addition, you can ignore package that <code>renv</code> thinks you
need to add to the lock file using the following command:</p>
<p><code>renv::settings$ignored.packages("&lt;&lt;package name&gt;&gt;")</code></p>
<p><br></p>
</div>
<div class="section level2">
<h2 id="cache-location-on-different-operating-systems">Cache Location on different Operating Systems<a class="anchor" aria-label="anchor" href="#cache-location-on-different-operating-systems"></a>
</h2>
<ul>
<li>Linux <code>~/.local/share/renv</code>
</li>
<li>macOS <code>~/Library/Application Support/renv</code>
</li>
<li>Windows <code>%LOCALAPPDATA%/renv</code>
</li>
</ul>
<p><br></p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li><a href="https://rstudio.github.io/renv/" class="external-link">github.io/renv/</a></li>
<li><a href="https://rstudio.github.io/renv/articles/renv.html" class="external-link">Introduction to
renv</a></li>
</ul>
<p><br></p>
<p><br></p>
<p><br></p>
<p><br></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Aaron Clark, Jeff Thompson, Robert Krajcik, Lars Andersen, Andrew Borgman, Marly Gotti, Maya Gans, Aravind Reddy Kallem, Fission Labs India Pvt Ltd, PSI special interest group Application and Implementation of Methodologies in Statistics, R Validation Hub.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
